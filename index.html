
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teachers:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Teachers', sans-serif; }
        .sparkle-text {
            background: linear-gradient(45deg, #2563eb, #7c3aed, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: shine 3s ease infinite;
        }
        @keyframes shine {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .feature-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        /* Animation to make the red mic "pulse" slightly while listening */
        .pulse-red { animation: pulse 1.5s infinite; }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
    </style>
</head>
<body class="bg-slate-50">

    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <div class="flex items-center">
                    <div class="bg-purple-400 p-2 rounded-lg mr-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M13 10V3L4 14h7v7l9-11h-7z" />
                        </svg>
                    </div>
                    <span class="text-2xl font-black tracking-tighter text-slate-900 uppercase">Speak <span class="text-purple-600">IT!</span></span>
                </div>
                <div class="flex items-center text-slate-500 font-bold">
                    WORD: <span id="current-count" class="ml-2 text-purple-600">0</span>/20
                </div>
            </div>
        </div>
    </nav>

    <header id="app-header" class="relative overflow-hidden bg-white pt-16 pb-24 border-b border-slate-100 text-center">
        <h1 class="text-5xl md:text-7xl font-black text-slate-900 leading-tight mb-6 uppercase">
            <span class="text-sparkle">Speak </span> the words you <span class="text-sparkle">SEE</span>
        </h1>
        <p class="text-xl text-slate-500">Read 20 words to get your score!</p>
    </header>

    <section class="max-w-7xl mx-auto p-4 md:p-8">
        <div id="game-card" class="feature-card bg-white p-8 md:p-16 rounded-3xl border-2 border-slate-200 text-center max-w-fit mx-auto min-w-[320px]">
            <div id="start-lab-btn" class="cursor-pointer">
                <div id="mic-circle" class="w-20 h-20 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 transition-all duration-300">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                    </svg>
                </div>
                <div id="word-to-say" class="text-6xl md:text-8xl font-black text-slate-900 mb-4 whitespace-nowrap">---</div>
                <p id="instruction" class="text-slate-500 text-xl mb-8 font-bold">Click to start!</p>
            </div>

            <div id="speech-feedback" class="p-6 bg-purple-50 rounded-xl text-purple-800 font-bold text-2xl hidden">
                Ready!
            </div>
        </div>

        <div id="results-card" class="hidden feature-card bg-white p-12 rounded-3xl border-2 border-slate-400 text-center max-w-xl mx-auto">
            <h2 class="text-4xl font-black mb-4">All Done!</h2>
            <div class="text-8xl font-black text-purple-600 mb-6" id="final-percentage">0%</div>
            <p class="text-2xl text-slate-600 mb-8" id="final-stats">You got 0 out of 20 correct!</p>
            <button onclick="location.reload()" class="bg-purple-600 text-white px-8 py-4 rounded-full font-black text-xl uppercase">Play Again</button>
        </div>
    </section>

    <script>
        const sightWords = ['spend', 'enjoy', 'awful', 'awe', 'usual', 'complain', 'auto', 'vacation', 'beautiful', 'beauty', 'flight', 'travel', 'rapid', 'repair', 'trouble','double', 'entrance', 'importance', 'important', 'carried', 'carry', 'lose', 'loss', 'fortune', 'empire', 'mayor', 'wait', 'beg', 'degree', 'prism', 'engine', 'visit', 'guest', 'guess', 'department', 'obtain', 'animal', 'family', 'favor', 'Mrs.', 'Mr.', 'Ms.', 'husband', 'amount', 'human', 'view', 'election', 'elect', 'clerk', 'though', 'support', 'does', 'goes', 'regard', 'escape', 'since', 'which', 'length','long', 'destroy', 'newspaper', 'daughter', 'naughty', 'caught', 'taught', 'answer', 'reply', 'oblige', 'sail', 'sale', 'cities', 'city', 'known', 'know', 'several', 'desire', 'nearly', 'sometimes', 'declare', 'engage', 'final', 'terrible', 'surprise', 'period', 'addition', 'employ', 'property', 'select', 'connection', 'connect', 'firm', 'region', 'convict', 'private', 'command', 'debate', 'factory', 'publish', 'represent', 'term', 'section', 'relative', 'progress (long)', 'progress (short)', 'entire', 'president', 'preside', 'measure', 'famous', 'fame', 'serve', 'estate', 'remember', 'either', 'effort', 'important', 'importance', 'present', 'action', 'justice', 'just', 'gentleman', 'gentle', 'enclose', 'await', 'suppose', 'wonderful', 'direction', 'forward', 'backward', 'although', 'prompt', 'attempt', 'whose', 'who', 'statement', 'state', 'perhaps', 'their', 'they', 'written', 'arrange', 'forenoon', 'before',  'lose', 'loose', 'combination', 'combine', 'avenue', 'neighbor', 'weigh', 'wear', 'entertain', 'salary', 'visitor', 'visit', 'publication', 'machine', 'engine', 'toward', 'success', 'drown', 'adopt', 'secure', 'honor', 'promise', 'wreck', 'prepare', 'vessel', 'busy', 'prefer', 'preference', 'illustrate', 'illustration', 'different', 'differ', 'object', 'provision', 'according', 'already', 'attention', 'education', 'director', 'direct', 'purpose', 'common', 'diamond', 'together', 'convention', 'increase', 'manner', 'feature', 'article', 'service', 'injure', 'injury', 'effect', 'distribute', 'general', 'tomorrow', 'consider', 'against', 'again', 'gain', 'complete', 'search', 'treasure', 'popular', 'Christmas', 'interest', 'often', 'stopped', 'stop', 'motion', 'theater', 'improvement', 'improve', 'century', 'cent', 'total', 'mention', 'arrive', 'supply', 'assist', 'difference', 'examination', 'examine', 'particular', 'affair', 'course', 'coarse', 'neither', 'local', 'marriage', 'marry', 'carriage', 'carry', 'further', 'serious', 'doubt', 'condition', 'government', 'govern', 'opinion', 'onion', 'union', 'familiar', 'behavior', 'companion', 'million', 'believe', 'system', 'possible', 'piece', 'peace', 'certain', 'witness', 'investigate', 'therefore', '', 'too', 'two', 'to', 'pleasant', 'please', 'guess', 'guest', 'cirular', 'circle', 'argument', 'argue', 'volume', 'organize', 'summon', 'official', 'officer', 'office', 'victim', 'estimate', 'accident', 'invitation', 'invite', 'accept', 'impossible', 'concern', 'associate', 'automobile', 'various', 'vary', 'very', 'decide', 'entitle', 'national', 'nation', 'recent', 'business', 'busy', 'refer', 'minute (time)', 'minute (little)', 'ought', 'absence', 'absent', 'conference', 'Wednesday', 'really', 'real', 'celebration', 'folk', 'folks', 'meant', 'mean', 'earliest', 'early', 'whether', 'distinguished', 'consideration', 'colonies', 'colony', 'assure', 'sure', 'relief', 'occupy', 'probably', 'foreign', 'expense', 'responsible', 'response', 'beginning', 'begin', 'application', 'apply', 'difficulty', 'difficult', 'scene', 'science', 'scissors', 'descend', 'descent', 'finally', 'finally', 'final', 'develop', 'circumstance', 'circumference', 'circle', 'issue', 'tissue', 'material', 'suggest', 'mere', 'senate', 'senator', 'senatorial', 'receive', 'respectfully', 'respecful', 'agreement', 'unfortunate', 'majority', 'major', 'elaborate', 'citizen', 'ncessary', 'necessity', 'divide', 'principal', 'principle', 'testimony', 'discussion', 'discuss', 'arrangement', 'arrange', 'reference', 'refer', 'evidence', 'experience', 'session', 'secretary', 'association', 'career', 'height', 'weight', 'organization', 'organize', 'emergency', 'appreciate', 'sincerely', 'sincere', 'athletic', 'athlete', 'extreme', 'practical', 'proceed', 'cordially', 'cordial', 'character', 'separate', 'February', 'library', 'immediate', 'conveient', 'receipt', 'preliminary', 'disappoint', 'especially','me', 'do', 'and', 'go', 'gather', 'giant', 'scold', 'scratch', 'seed', 'selfish', 'serious', 'shell', 'shovel', 'shriek', 'sibling', 'silent', 'simple', 'slippery', 'sly', 'sneaky', 'sob', 'spiral', 'slendid', 'sprinkle', 'squirm', 'startle', 'steep', 'stormy', 'striped', 'surround', 'switch', 'terrified', 'thick', 'thunder', 'ticket', 'timid', 'transportation', 'travel', 'trust', 'upset', 'weed', 'whimper', 'whirl', 'wicked', 'yank', 'glad', 'gleaming', 'glum', 'grab', 'grateful', 'grin', 'mask', 'misty', 'modern', 'mountain', 'narrow', 'obey', 'pain', 'passenger', 'pattern', 'pest', 'pretend', 'promise', 'rapid', 'remove', 'repeat', 'rescue', 'restart', 'return', 'ripe', 'rise', 'roar', 'rough', 'rusty', 'grip', 'groan', 'hatch', 'heap', 'hide', 'hobby', 'honest', 'howl',  'jealous', 'knob', 'lively', 'loosen', 'daily', 'dart', 'decorate', 'delighted', 'bashful', 'basket', 'batch', 'behave', 'belong', 'bend', 'blink', 'blush', 'bolt', 'borrow', 'bundle','denied', 'deserve', 'divide', 'dodge', 'drenched', 'drowsy', 'at', 'on', 'a', 'it', 'is', 'she', 'see', 'run', 'the', 'in', 'so', 'no', 'now', 'man', 'ten', 'bed', 'top', 'he', 'you', 'will', 'we', 'an', 'my', 'ago', 'my', 'up', 'last', 'not', 'us', 'am', 'good', 'ache', 'adjust', 'affordable', 'alarm', 'alone', 'apologize', 'appetite', 'applause', 'artistic', 'atmosphere', 'attach', 'little', 'ago', 'old', 'bad', 'red', 'of', 'be', 'but', 'this', 'all', 'your', 'you', 'out', 'time', 'may', 'into', 'him', 'today', 'look', 'did', 'like', 'lace', 'six', 'boy', 'book', 'by', 'have', 'are', 'had', 'over', 'must', 'make', 'school', 'cabin', 'caterpillar', 'caution', 'cave', 'champion', 'chat', 'cheat', 'chimney', 'compass', 'comlain', 'conductor', 'construct', 'costume', 'cozy', 'cranky', 'crash', 'creak', 'croak', 'crowded', 'cue', 'curved', 'enormous', 'equal', 'exclaim', 'exhausted', 'expensive', 'fancy', 'fasten', 'filthy', 'flat', 'flee', 'fog', 'footprint', 'forest', 'freezing','street', 'say', 'come', 'hand', 'ring', 'live (short)', 'live (long)', 'drill', 'late', 'let', 'climb', 'big', 'mother', 'three', 'land', 'cold', 'hot', 'hat', 'child', 'ice', 'play', 'see', 'sea', 'day', 'eat', 'sit', 'lot', 'box', 'belong', 'door', 'floor', 'yes', 'low', 'soft', 'stand', 'yard', 'bring', 'tell', 'five', 'ball', 'law', 'ask', 'just', 'gust', 'way', 'get', 'home', 'much', 'call', 'long', 'love', 'then', 'house', 'year', 'to', 'I', 'as', 'send', 'one', 'has', 'some', 'if', 'how', 'her', 'them', 'other', 'baby', 'well', 'about', 'men', 'man', 'for', 'ran', 'run', 'was', 'that', 'his', 'led', 'lay', 'nice', 'face', 'miss', 'ride', 'tree', 'sick', 'got', 'north', 'white', 'spent', 'foot', 'blow', 'block', 'spring', 'river', 'plant', 'cut', 'song', 'sing', 'sang', 'sung', 'winter', 'stone', 'free', 'lake', 'lace', 'page', 'nine', 'end', 'fall', 'feet', 'went', 'back', 'away', 'paper', 'put', 'each', 'soon', 'come', 'Sunday', 'show', 'Monday', 'moon', 'yet', 'find', 'give', 'new', 'letter', 'take', 'Mr.', 'Mister', 'after', 'thing', 'what', 'than', 'its', 'very', 'or', 'thank', 'dear', 'west', 'sold', 'told', 'best', 'form', 'far', 'gave', 'alike', 'add', 'seven', 'forget', 'happy', 'noon', 'think', 'sister', 'cast', 'card', 'south', 'deep', 'inside', 'blue', 'post', 'town', 'stay', 'grand', 'outside', 'dark', 'band', 'game', 'boat', 'rest', 'east', 'son', 'sun', 'help', 'hard', 'race', 'cover', 'fire', 'wire', 'tire', 'age', 'gold', 'read (present)', 'read (past)', 'red', 'fine', 'cannot', 'May', 'may', 'line', 'left', 'ship', 'train', 'saw', 'pay', 'large', 'near', 'down', 'why', 'bill', 'want', 'girl', 'part', 'still', 'placed', 'report', 'never', 'found', 'side', 'kind', 'life', 'here', 'car', 'word', 'every', 'under', 'most', 'made', 'said', 'say', 'work', 'our', 'more', 'when', 'from', 'form', 'wind (blows)', 'wind (a watch)', 'print', 'air', 'fill', 'along', 'lost', 'name', 'room', 'hope', 'same', 'glad', 'with', 'mine', 'became', 'brother', 'rain', 'keep', 'start', 'mail', 'male', 'female', 'eye', 'I', 'glass', 'party', 'upon', 'two', 'twin', 'twain', 'twine', 'twilight', 'they', 'would', 'any', 'many', 'could', 'should', 'would', 'city', 'only', 'where', 'week', 'weak', 'first', 'sent', 'cent', 'mile', 'seem', 'see', 'even', 'without', 'afternoon', 'Friday', 'hour', 'our', 'wife', 'state', 'July', 'head', 'story', 'open', 'short', 'lady', 'reach', 'better', 'water', 'round', 'cost', 'price', 'become', 'class', 'try', 'horse', 'care', 'try', 'move', 'delay', 'pound', 'behind', 'around', 'burn', 'camp', 'bear', 'bare', 'clear', 'clean', 'spell', 'poor', 'finish', 'hurt', 'maybe', 'across', 'tonight', 'tenth', 'sir', 'these', 'those', 'club', 'seen', 'see', 'felt', 'full', 'fail', 'set', 'stamp', 'light', 'coming', 'cent', 'sent', 'night', 'pass', 'shut', 'easy', 'easily', 'ease', 'catch', 'black', 'warm', 'unless', 'clothing', 'clothe', 'began', 'begin', 'begun', 'able', 'gone', 'go', 'done', 'do', 'suit', 'track', 'watch', 'dash', 'fell', 'fell', 'fight', 'buy', 'stop', 'walk', 'talk', 'balk', 'grant', 'soap', 'news', 'above', 'express', 'turn', 'lesson', 'half', 'father', 'anything', 'table', 'high', 'June', 'right', 'write', 'wrote', 'date', 'road', 'rode', 'ride', 'March', 'march', 'next', 'indeed', 'four', 'herself', 'power', 'wish', 'because', 'world', 'country', 'meet', 'meat', 'another', 'trip', 'list', 'people', 'ever', 'held', 'church', 'once', 'one', 'own', 'before', 'know', 'no', 'were', 'where', 'there', 'here', 'dead', 'leave', 'early', 'close (distance)', 'close (a door)', 'flower', 'nothing', 'ground', 'lead (present)', 'lead (past)', 'such', 'many', 'morning', 'however', 'mind', 'shall', 'alone', 'order', 'third', 'push', 'point', 'within', 'done', 'do', 'gone', 'go', 'body', 'trust', 'extra', 'dress', 'beside', 'teach', 'happen', 'begun', 'collect', 'file', 'provide', 'sight', 'stood', 'fix', 'born', 'goes', 'go', 'Tuesday', 'hold', 'drill', 'army', 'pretty', 'stole', 'income', 'bought', 'paid', 'pay', 'laid', 'lay', 'said', 'say', 'enter', 'railroad', 'unable', 'ticket', 'account', 'driven', 'real', 'recover','mountain', 'steamer', 'speak', 'past', 'might', 'begin', 'contract', 'deal', 'almost', 'all', 'brought', 'less', 'even', 'off', 'of', 'true', 'took', 'again', 'inform', 'both', 'heart', 'month', 'children', 'child', 'build', 'built', 'understand', 'follow', 'charge', 'says', 'member', 'case', 'while', 'also', 'return', 'those', 'office', 'great', 'Miss', 'miss', 'who', 'died', 'die', 'change', 'wire', 'few', 'please', 'picture', 'money', 'ready', 'omit', 'anyway', 'any', 'way', 'except', 'aunt', 'ant', 'capture', 'wrote', 'write', 'else', 'bridge', 'offer', 'suffer', 'center', 'front', 'rule', 'carry', 'chain', 'death', 'learn', 'wonder', 'tire', 'pari', 'pear', 'check', 'prove', 'heard', 'hear', 'itself', 'always', 'something', 'expect', 'need', 'thus', 'woman', 'women', 'young', 'fair', 'fare', 'dollar', 'evening', 'eve', 'plain', 'plane', 'broke', 'feel', 'sure', 'sugar', 'least', 'sorry', 'press', 'teacher', 'November', 'subject', 'April', 'history', 'cause', 'study', 'himself', 'matter', 'use', 'thought', 'person', 'nor', 'or', 'January', 'mean', 'vote', 'court', 'copy', 'act', 'been', 'be', 'yesterday', 'among', 'question', 'quest', 'doctor', 'hear', 'size', 'December', 'dozen', 'there', 'tax', 'number', 'October', 'reason', 'fifth','catch', 'black', 'warm', 'unless', 'clothing', 'agree', 'arrive', 'astronomy', 'atlas', 'award', 'aware', 'balance', 'banner', 'base', 'beach', 'besides', 'blast', 'bounce', 'brain', 'branch', 'brave', 'bright', 'cage', 'calm', 'career', 'center', 'cheer', 'chew', 'claw', 'cliff', 'club', 'collect', 'connect', 'core', 'corner', 'couple', 'crowd', 'curious', 'damp', 'dangerous', 'dawn', 'demolish', 'design', 'discard', 'dive', 'dome', 'doubt', 'dozen', 'earth', 'enemy', 'exactly', 'excess', 'factory', 'feast', 'field', 'flap', 'float', 'flood', 'fold', 'fresh', 'fighten', 'fuel', 'gap', 'gaze', 'gift', 'gravity', 'greedy', 'harm', 'herd', 'idea', 'insect', 'instrument', 'invent', 'island', 'leader', 'leap', 'lizard', 'local', 'lonely', 'luxury', 'mention', 'motor', 'nervous', 'net', 'nibble', 'notice', 'ocean', 'pack', 'pale', 'parade', 'peak', 'planet', 'proof', 'reflect', 'rumor', 'safe', 'scholar', 'seal', 'settle', 'share', 'shelter', 'shiver', 'shy', 'skill', 'slight', 'smooth', 'soil', 'stack', 'steady', 'strand', 'stream', 'team', 'telescope', 'tiny', 'tower', 'travel', 'tremble', 'universe', 'villiage', 'warn', 'weak', 'wealthy', 'whisper', 'wise', 'worry', 'zigzag', 'sword', 'clothe',  'daily', 'dart', 'decorate', 'delighted', 'denied', 'dodge', 'drenched', 'drowsy', 'deserve', 'begin', 'begun', 'able', 'gone', 'go', 'done', 'do', 'suit', 'track', 'watch', 'dash', 'fell', 'fight', 'buy', 'by', 'stop', 'walk', 'talk', 'balk', 'grant', 'soap', 'news', 'small', 'war', 'summer', 'above', 'ache', 'adjust', 'affordable', 'alarm', 'alone', 'apologize', 'appetite', 'applause', 'artistic', 'atmosphere', 'attach', 'express', 'turn', 'lesson', 'half', 'father', 'anything', 'table', 'high', 'June', 'right', 'write', 'wrote', 'date', 'road', 'rode', 'ride', 'March', 'march', 'next', 'indeed', 'four', 'herself', 'power', 'wish', 'because', 'world', 'country', 'meet', 'meat', 'another', 'trip', 'list', 'people', 'ever', 'held', 'church', 'once', 'one', 'own', 'before', 'know', 'no', 'were', 'where', 'there', 'here', 'dead', 'leave', 'early', 'close (distance)', 'close (a door)', 'flower', 'nothing', 'ground', 'lead (present)', 'lead (past)', 'such', 'many', 'morning', 'however', 'mind', 'shall', 'alone', 'order', 'third', 'push', 'point', 'within', 'done', 'do', 'gone', 'go', 'body', 'except', 'aunt', 'ant', 'capture', 'wrote', 'write', 'else', 'bridge', 'offer', 'suffer', 'center', 'front', 'chain', 'death', 'learn', 'wonder', 'tire', 'pair', 'pear', 'check', 'prove', 'heard', 'hear', 'inspect', 'itself', 'always', 'something', 'exprect', 'need', 'thus', 'woman', 'women', 'young', 'fair', 'fare', 'dollar', 'evening', 'eve', 'plain', 'plane', 'broke', 'feel', 'sure', 'sugar', 'least', 'sorry', 'press', 'teacher', 'November', 'subject', 'April', 'history', 'cause', 'study', 'himself', 'matter', 'use', 'thought', 'person', 'nor', 'or', 'January', 'mean', 'vote', 'court', 'copy', 'act', 'been', 'be', 'yesterday', 'among', 'question', 'quest', 'doctor', 'hear', 'size', 'December', 'dozen', 'there', 'number', 'October', 'reason', 'fifth', 'eight', 'ate', 'afraid', 'uncle', 'rather', 'comfort', 'elect', 'aboard', 'rail', 'shed', 'retire', 'refuse', 'district', 'restrain', 'royal','objection', 'pleasure', 'measure', 'treasure', 'navy', 'population', 'proper', 'judge', 'weather', 'whether', 'worth', 'contain', 'figure', 'sudden', 'forty', 'fourth', 'instead', 'throw', 'threw', 'personal', 'everything', 'rate', 'chief', 'perfect', 'second', 'slide', 'farther', 'duty', 'intend', 'company', 'quite', 'quit', 'quiet', 'none', 'knew', 'know', 'remain', 'direct', 'appear', 'liberty', 'enough', 'fact', 'board', 'September', 'station', 'attend', 'between', 'public', 'music', 'picnic', 'friend', 'during', 'endure', 'through', 'police', 'until', 'madam', 'truly', 'true', 'whole', 'hole', 'address', 'request', 'raise', 'August', 'Tuesday', 'goes', 'does', 'struck', 'getting', 'get', 'Thursday', 'Saturday', 'spend', 'enjoy', 'awful', 'awe', 'usual', 'complain', 'auto', 'vacation', 'beautiful', 'beauty', 'flight', 'travel', 'rapid', 'repair', 'trouble', 'double', 'entrance',  'importance', 'important', 'carried', 'carry', 'lose', 'loss', 'fortune', 'empire', 'mayor', 'wait', 'beg', 'degree', 'bison', 'engine', 'visit', 'guest', 'guess', 'department', 'obtain', 'animal', 'family', 'favor', 'Mrs.', 'Mr.', 'Ms.', 'husband', 'amount', 'human', 'view', 'election', 'elect', 'clerk', 'though', 'support', 'does', 'goes', 'regard', 'escape', 'since', 'which', 'length', 'long', 'destroy', 'newspaper', 'daughter', 'naughty', 'caught', 'taught', 'answer', 'reply', 'oblige', 'sail', 'sale', 'cities', 'city', 'known', 'know', 'several', 'desire', 'arrest', 'themselves', 'self', 'calf', 'calves', 'half', 'halves', 'special', 'especially', 'women', 'present (gift)', 'present (display)', 'action', 'justice', 'just', 'gentleman', 'gentle', 'enclose', 'await', 'suppose', 'wonderful', 'direction', 'forward', 'backward', 'although', 'prompt', 'attempt', 'whose', 'who', 'statement', 'state', 'perhaps', 'their', 'they', 'written', 'arrange', 'nearly', 'sometimes', 'declare', 'engage', 'final', 'terrible', 'surprise', 'period', 'addition', 'employ', 'property', 'select', 'connection', 'connect', 'firm', 'region', 'religion', 'convict', 'private', 'command', 'debate', 'crowd', 'factory', 'pubish', 'represent', 'term', 'section', 'relative', 'progress', 'prgress', 'entire', 'presdident', 'preside', 'measure', 'famous', 'fame', 'serve', 'estate', 'remember', 'either', 'effort', 'important', 'importance', 'due', 'dew', 'include', 'running', 'run', 'allow', 'position', 'field', 'ledge', 'claim', 'primary', 'result', 'Saturday', 'appoint', 'information', 'whom', 'who'];
        let currentWord = "";
        let attempts = 0;
        let sessionTotal = 0;
        let sessionCorrect = 0;
        const maxWords = 20;

        const context = new (window.AudioContext || window.webkitAudioContext)();

        // YOUR NEW SUCCESS CHORD CODE
        function playSuccessSound() {
            const now = context.currentTime;
            // Success Chord: C5, E5, G5
            [523.25, 659.25, 783.99].forEach((freq, i) => {
                const osc = context.createOscillator();
                const gain = context.createGain();
                osc.type = 'sine';
                osc.frequency.setValueAtTime(freq, now + (i * 0.05));
                gain.gain.setValueAtTime(0.1, now + (i * 0.05));
                gain.gain.exponentialRampToValueAtTime(0.0001, now + 0.5 + (i * 0.05));
                osc.connect(gain);
                gain.connect(context.destination);
                osc.start(now + (i * 0.05));
                osc.stop(now + 0.6 + (i * 0.05));
            });
        }

        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        
        if (!SpeechRecognition) {
            alert("Please use Chrome.");
        } else {
            const recognition = new SpeechRecognition();
            recognition.lang = 'en-US';

            const micCircle = document.getElementById('mic-circle');
            const gameCard = document.getElementById('game-card');
            const resultsCard = document.getElementById('results-card');
            const startBtn = document.getElementById('start-lab-btn');
            const wordDisplay = document.getElementById('word-to-say');
            const feedbackText = document.getElementById('speech-feedback');
            const instruction = document.getElementById('instruction');
            const counterDisplay = document.getElementById('current-count');

            function pickNewWord() {
                if (sessionTotal >= maxWords) {
                    showResults();
                    return;
                }
                sessionTotal++;
                counterDisplay.innerText = sessionTotal;
                const randomIndex = Math.floor(Math.random() * sightWords.length);
                currentWord = sightWords[randomIndex];
                wordDisplay.innerText = currentWord;
                attempts = 0;
                feedbackText.classList.add('hidden');
                instruction.innerText = "Click to read!";
                resetMicColor();
            }

            function showResults() {
                gameCard.classList.add('hidden');
                document.getElementById('app-header').classList.add('hidden');
                resultsCard.classList.remove('hidden');
                const percent = Math.round((sessionCorrect / maxWords) * 100);
                document.getElementById('final-percentage').innerText = percent + "%";
                document.getElementById('final-stats').innerText = `You got ${sessionCorrect} out of ${maxWords} correct!`;
            }

            // HELPER FUNCTIONS TO CHANGE COLOR
            function setMicToListening() {
                micCircle.classList.remove('bg-purple-100', 'text-purple-600');
                micCircle.classList.add('bg-red-500', 'text-white', 'pulse-red');
            }

            function resetMicColor() {
                micCircle.classList.add('bg-purple-100', 'text-purple-600');
                micCircle.classList.remove('bg-red-500', 'text-white', 'pulse-red');
            }

            pickNewWord();

            startBtn.addEventListener('click', () => {
                if (context.state === 'suspended') { context.resume(); }
                
                // Change to red when we start
                setMicToListening();
                
                feedbackText.classList.remove('hidden');
                feedbackText.innerText = "Listening...";
                recognition.start();
            });

            recognition.onresult = (event) => {
                const userSaid = event.results[0][0].transcript.toLowerCase().trim();
                
                // Change back to purple as soon as we hear something
                resetMicColor();

                if (userSaid.includes(currentWord.toLowerCase())) {
                    sessionCorrect++;
                    playSuccessSound();
                    feedbackText.innerHTML = `ðŸŒŸ Correct!`;
                    setTimeout(pickNewWord, 1200);
                } else {
                    attempts++;
                    if (attempts < 2) {
                        feedbackText.innerHTML = `âŒ Try again!`;
                        instruction.innerText = "Click for 2nd chance!";
                    } else {
                        feedbackText.innerHTML = `Next word...`;
                        setTimeout(pickNewWord, 1500);
                    }
                }
            };

            // Always reset color if there's an error
            recognition.onerror = () => {
                resetMicColor();
                feedbackText.innerText = "I didn't hear you. Click to try again!";
            };
        }
    </script>
</body>
</html>